@page "/edit-jet/{ListingId:guid}"
@layout ITIRR.Web.Shared.DashboardLayout
@attribute [Authorize]
@inject NavigationManager Navigation
@inject CustomAuthStateProvider AuthStateProvider
@inject HttpClient Http
@using Microsoft.AspNetCore.Authorization
@using ITIRR.Web.Auth
@using System.Net.Http.Json
@using System.Text.Json

<div class="container-fluid">

    <!-- BREADCRUMB -->
    <div class="row">
        <div class="col-md-12">
            <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                <ol class="breadcrumb custom-breadcrumb">
                    <li class="breadcrumb-item"><a href="/partner-home">Dashboard</a></li>
                    <li class="breadcrumb-item"><a href="/my-listings">All Listed Vehicles</a></li>
                    <li class="breadcrumb-item active" aria-current="page">
                        @(string.IsNullOrEmpty(form.AircraftMake) ? "Edit Jet" : $"{form.AircraftMake} {form.AircraftModel}")
                    </li>
                </ol>
            </nav>
        </div>
    </div>

    <!-- HEADING -->
    <div class="row">
        <div class="col-md-12">
            <div class="agency-header">
                <h1>@(string.IsNullOrEmpty(form.AircraftMake) ? "Edit Jet Listing" : $"{form.AircraftMake} {form.AircraftModel}")</h1>
                <p>Experience refined comfort and executive style, anywhere you go.</p>
            </div>
        </div>
    </div>

    @if (isPageLoading)
    {
        <div class="text-center py-5">
            <div class="spinner-border text-primary" role="status"></div>
            <p class="mt-3">Loading listing...</p>
        </div>
    }
    else
    {
        @if (!string.IsNullOrEmpty(errorMessage))
        {
            <div class="alert alert-danger alert-dismissible">
                <i class="fa-solid fa-circle-exclamation me-2"></i>@errorMessage
                <button class="btn-close" @onclick="@(() => errorMessage = string.Empty)"></button>
            </div>
        }
        @if (!string.IsNullOrEmpty(successMessage))
        {
            <div class="alert alert-success alert-dismissible">
                <i class="fa-solid fa-circle-check me-2"></i>@successMessage
                <button class="btn-close" @onclick="@(() => successMessage = string.Empty)"></button>
            </div>
        }

        <div class="row">

            <!-- ========== 1. LOCATION ========== -->
            <div class="col-md-12 custom-top">
                <div class="dropdown-container">
                    <button class="dropdown-btn btn-color" type="button"
                            @onclick="@(() => ToggleSection("location"))">
                        Location Detail
                        <i class="bi @(openSection == "location" ? "bi-chevron-up" : "bi-chevron-down")"></i>
                    </button>
                    <div class="dropdown-content" style="@(openSection == "location" ? "display:block;" : "display:none;")">
                        <div class="container-fluid">
                            <div class="row g-2">
                                <div class="col-md-6">
                                    <label class="form-label lable-css">Country</label>
                                    <select class="no-border-select-input no-border-select"
                                            value="@form.CountryId"
                                            @onchange="OnCountryChanged">
                                        <option value="">-- Select Country --</option>
                                        @foreach (var c in countries)
                                        {
                                            <option value="@c.Id">@c.Name</option>
                                        }
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label lable-css">State</label>
                                    <input type="text" placeholder="Enter State"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.State" />
                                </div>
                                <div class="col-md-6 custom-top">
                                    <label class="form-label lable-css">City</label>
                                    <select class="no-border-select-input no-border-select"
                                            value="@form.CityId"
                                            @onchange="e => form.CityId = ParseGuid(e.Value?.ToString())">
                                        <option value="">-- Select City --</option>
                                        @foreach (var c in cities)
                                        {
                                            <option value="@c.Id">@c.Name</option>
                                        }
                                    </select>
                                </div>
                                <div class="col-md-6 custom-top">
                                    <label class="form-label lable-css">Zip Code</label>
                                    <input type="text" placeholder="Zip Code"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.ZipCode" />
                                </div>
                                <div class="col-md-6 custom-top">
                                    <label class="form-label lable-css">Hangar Location</label>
                                    <input type="text" placeholder="Hangar Location"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.HangarLocation" />
                                </div>
                                <div class="col-md-6 custom-top">
                                    <label class="form-label lable-css">Home Airport</label>
                                    <input type="text" placeholder="e.g. LHR, JFK"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.HomeAirport" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== 2. AIRCRAFT SPECS ========== -->
            <div class="col-md-12 custom-top">
                <div class="dropdown-container">
                    <button class="dropdown-btn btn-color" type="button"
                            @onclick="@(() => ToggleSection("specs"))">
                        Aircraft Specifications
                        <i class="bi @(openSection == "specs" ? "bi-chevron-up" : "bi-chevron-down")"></i>
                    </button>
                    <div class="dropdown-content" style="@(openSection == "specs" ? "display:block;" : "display:none;")">
                        <div class="container-fluid">
                            <div class="row g-2">
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Aircraft Make</label>
                                    <input type="text" placeholder="e.g. Gulfstream"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.AircraftMake" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Aircraft Model</label>
                                    <input type="text" placeholder="e.g. G700"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.AircraftModel" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Aircraft Year</label>
                                    <input type="text" placeholder="e.g. 2022"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.AircraftYear" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Tail Number</label>
                                    <input type="text" placeholder="e.g. N12345"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.TailNumber" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Aircraft Category</label>
                                    <select class="no-border-select-input no-border-select" @bind="form.AircraftCategory">
                                        <option value="">-- Select --</option>
                                        <option value="Light Jet">Light Jet</option>
                                        <option value="Midsize Jet">Midsize Jet</option>
                                        <option value="Heavy Jet">Heavy Jet</option>
                                        <option value="Ultra Long Range">Ultra Long Range</option>
                                        <option value="Turboprop">Turboprop</option>
                                        <option value="Helicopter">Helicopter</option>
                                    </select>
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Passenger Capacity</label>
                                    <input type="number" placeholder="e.g. 12"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.PassengerCapacity" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Range (Nautical Miles)</label>
                                    <input type="text" placeholder="e.g. 7500"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.RangeNauticalMiles" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Cruising Speed</label>
                                    <input type="text" placeholder="e.g. 900 km/h"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.CruisingSpeed" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Engine Type</label>
                                    <input type="text" placeholder="e.g. Rolls-Royce Pearl 700"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.EngineType" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== 3. YOUR GOALS ========== -->
            <div class="col-md-12 custom-top">
                <div class="dropdown-container">
                    <button class="dropdown-btn btn-color" type="button"
                            @onclick="@(() => ToggleSection("goals"))">
                        Your Goals
                        <i class="bi @(openSection == "goals" ? "bi-chevron-up" : "bi-chevron-down")"></i>
                    </button>
                    <div class="dropdown-content" style="@(openSection == "goals" ? "display:block;" : "display:none;")">
                        <div class="container-fluid">
                            <div class="row g-2">
                                <div class="col-md-12">
                                    <label class="form-label lable-css">Primary Goal</label>
                                    <select class="no-border-select-input no-border-select" @bind="form.PrimaryGoal">
                                        <option value="">-- Select --</option>
                                        <option value="Only a few times a year">Only a few times a year</option>
                                        <option value="A few times each season">A few times each season</option>
                                        <option value="Monthly or more">Monthly or more</option>
                                        <option value="Weekly or throughout the season">Weekly or throughout the season</option>
                                    </select>
                                </div>
                                <div class="col-md-12 custom-top">
                                    <label class="form-label lable-css">Usage Frequency</label>
                                    <select class="no-border-select-input no-border-select" @bind="form.UsageFrequency">
                                        <option value="">-- Select --</option>
                                        <option value="Only a few times a year">Only a few times a year</option>
                                        <option value="A few times each season">A few times each season</option>
                                        <option value="Monthly or more">Monthly or more</option>
                                        <option value="Weekly or throughout the season">Weekly or throughout the season</option>
                                    </select>
                                </div>
                                <div class="col-md-12 custom-top">
                                    <label class="form-label lable-css">Share Frequency</label>
                                    <select class="no-border-select-input no-border-select" @bind="form.ShareFrequency">
                                        <option value="">-- Select --</option>
                                        <option value="Limited availability; a few times a year">Limited availability; a few times a year</option>
                                        <option value="A few times each month or season">A few times each month or season</option>
                                        <option value="Consistent sharing when not using it">Consistent sharing when not using it</option>
                                        <option value="Maximum availability for bookings">Maximum availability for bookings</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== 4. ADVANCE NOTICE & TRIP DURATION ========== -->
            <div class="col-md-12 custom-top">
                <div class="dropdown-container">
                    <button class="dropdown-btn btn-color" type="button"
                            @onclick="@(() => ToggleSection("notice"))">
                        Advance Notice & Trip Duration
                        <i class="bi @(openSection == "notice" ? "bi-chevron-up" : "bi-chevron-down")"></i>
                    </button>
                    <div class="dropdown-content" style="@(openSection == "notice" ? "display:block;" : "display:none;")">
                        <div class="container-fluid">
                            <div class="row g-2">
                                <div class="col-md-12">
                                    <label class="form-label lable-css">Advance Notice</label>
                                    <select class="no-border-select-input no-border-select" @bind="form.AdvanceNotice">
                                        <option value="">-- Select --</option>
                                        <option value="Same Day">Same Day Notice</option>
                                        <option value="24 Hours">24 Hours Notice</option>
                                        <option value="48 Hours">48 Hours Notice</option>
                                        <option value="1 Week">1 Week Notice</option>
                                    </select>
                                </div>
                                <div class="col-md-6 custom-top">
                                    <label class="form-label lable-css">Min Trip Duration</label>
                                    <select class="no-border-select-input no-border-select" @bind="form.MinTripDuration">
                                        <option value="">-- Select --</option>
                                        <option value="2-Day Minimum">2-Day Minimum</option>
                                        <option value="1-Week">1-Week</option>
                                    </select>
                                </div>
                                <div class="col-md-6 custom-top">
                                    <label class="form-label lable-css">Max Trip Duration</label>
                                    <select class="no-border-select-input no-border-select" @bind="form.MaxTripDuration">
                                        <option value="">-- Select --</option>
                                        <option value="1-Month Maximum">1-Month Maximum</option>
                                        <option value="No Maximum">No Maximum - Flexible</option>
                                    </select>
                                </div>
                                <div class="col-md-12 custom-top">
                                    <label class="form-label lable-css">Cancellation Policy</label>
                                    <select class="no-border-select-input no-border-select" @bind="form.CancellationPolicy">
                                        <option value="">-- Select --</option>
                                        <option value="Flexible">Flexible</option>
                                        <option value="Moderate">Moderate</option>
                                        <option value="Strict">Strict</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== 5. PILOT DETAILS ========== -->
            <div class="col-md-12 custom-top">
                <div class="dropdown-container">
                    <button class="dropdown-btn btn-color" type="button"
                            @onclick="@(() => ToggleSection("pilot"))">
                        Pilot Details
                        <i class="bi @(openSection == "pilot" ? "bi-chevron-up" : "bi-chevron-down")"></i>
                    </button>
                    <div class="dropdown-content" style="@(openSection == "pilot" ? "display:block;" : "display:none;")">
                        <div class="container-fluid">
                            <div class="row g-2">
                                <div class="col-md-6 custom-top">
                                    <label class="form-label lable-css">Pilot First Name</label>
                                    <input type="text" placeholder="First Name"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.PilotFirstName" />
                                </div>
                                <div class="col-md-6 custom-top">
                                    <label class="form-label lable-css">Pilot Last Name</label>
                                    <input type="text" placeholder="Last Name"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.PilotLastName" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Licence Number</label>
                                    <input type="text" placeholder="Licence Number"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.PilotLicenceNumber" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Licence Type</label>
                                    <input type="text" placeholder="e.g. ATPL"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.PilotLicenceType" />
                                </div>
                                <div class="col-md-4 custom-top">
                                    <label class="form-label lable-css">Licence Expiry</label>
                                    <input type="date"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.PilotLicenceExpiry" />
                                </div>
                                <div class="col-md-6 custom-top">
                                    <label class="form-label lable-css">Crew Count</label>
                                    <input type="number" placeholder="e.g. 3"
                                           class="form-control no-border-select-input no-border-select-input-1"
                                           @bind="form.CrewCount" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== BUTTONS ========== -->
            <div class="col-md-12 custom-top">
                <div class="container-fluid">
                    <div class="row row-position">
                        <div class="col-md-6"></div>
                        <div class="col-md-6 coloumn-position">
                            <a href="/my-listings">
                                <button class="btn button-1" type="button">Cancel</button>
                            </a>
                            <button class="btn button-2" type="button"
                                    @onclick="SaveDraft" disabled="@isSaving">
                                @if (isSaving && !isSubmitting)
                                {
                                    <i class="fa-solid fa-spinner fa-spin me-1"></i>
                                    <span>Saving...</span>
                                }
                                else
                                {
                                    <span>Save Only</span>
                                }
                            </button>
                            <button class="btn button-3" type="button"
                                    @onclick="SaveAndSubmit" disabled="@isSaving">
                                @if (isSaving && isSubmitting)
                                {
                                    <i class="fa-solid fa-spinner fa-spin me-1"></i>
                                    <span>Submitting...</span>
                                }
                                else
                                {
                                    <span>Save & Submit</span>
                                }
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    }
</div>

@code {
    [Parameter] public Guid ListingId { get; set; }

    private bool isPageLoading = true;
    private bool isSaving = false;
    private bool isSubmitting = false;
    private string openSection = "location";
    private string errorMessage = string.Empty;
    private string successMessage = string.Empty;

    private JetEditForm form = new();
    private List<CountryDto> countries = new();
    private List<CityDto> cities = new();

    private void ToggleSection(string section) =>
        openSection = openSection == section ? string.Empty : section;

    protected override async Task OnInitializedAsync()
    {
        var token = await AuthStateProvider.GetAccessTokenAsync();
        if (!string.IsNullOrEmpty(token))
            Http.DefaultRequestHeaders.Authorization =
                new System.Net.Http.Headers.AuthenticationHeaderValue("Bearer", token);

        await LoadCountries();
        await LoadListingData();
        isPageLoading = false;
    }

    private async Task LoadCountries()
    {
        try
        {
            var result = await Http.GetFromJsonAsync<ApiResp<List<CountryDto>>>(
                "api/v1/countries",
                new JsonSerializerOptions { PropertyNameCaseInsensitive = true });
            if (result?.Data != null) countries = result.Data;
        }
        catch { }
    }

    private async Task LoadCities()
    {
        cities.Clear();
        if (form.CountryId == null) return;
        try
        {
            var result = await Http.GetFromJsonAsync<ApiResp<List<CityDto>>>(
                $"api/v1/countries/{form.CountryId}/cities",
                new JsonSerializerOptions { PropertyNameCaseInsensitive = true });
            if (result?.Data != null) cities = result.Data;
        }
        catch { }
    }

    private async Task OnCountryChanged(ChangeEventArgs e)
    {
        form.CountryId = ParseGuid(e.Value?.ToString());
        form.CityId = null;
        cities.Clear();
        await LoadCities();
    }

    private async Task LoadListingData()
    {
        try
        {
            var response = await Http.GetAsync($"api/v1/jet-listing/{ListingId}/edit-data");
            var json = await response.Content.ReadAsStringAsync();
            var result = JsonSerializer.Deserialize<ApiResp<JetFullData>>(json,
                new JsonSerializerOptions { PropertyNameCaseInsensitive = true });

            if (result?.Success == true && result.Data != null)
            {
                var d = result.Data;
                form.CountryId = d.CountryId;
                form.State = d.State ?? string.Empty;
                form.CityId = d.CityId;
                form.ZipCode = d.ZipCode ?? string.Empty;
                form.HangarLocation = d.HangarLocation ?? string.Empty;
                form.HomeAirport = d.HomeAirport ?? string.Empty;
                form.AircraftMake = d.AircraftMake ?? string.Empty;
                form.AircraftModel = d.AircraftModel ?? string.Empty;
                form.AircraftYear = d.AircraftYear ?? string.Empty;
                form.TailNumber = d.TailNumber ?? string.Empty;
                form.AircraftCategory = d.AircraftCategory ?? string.Empty;
                form.PassengerCapacity = d.PassengerCapacity;
                form.RangeNauticalMiles = d.RangeNauticalMiles ?? string.Empty;
                form.CruisingSpeed = d.CruisingSpeed ?? string.Empty;
                form.EngineType = d.EngineType ?? string.Empty;
                form.PrimaryGoal = d.PrimaryGoal ?? string.Empty;
                form.UsageFrequency = d.UsageFrequency ?? string.Empty;
                form.ShareFrequency = d.ShareFrequency ?? string.Empty;
                form.AdvanceNotice = d.AdvanceNotice ?? string.Empty;
                form.MinTripDuration = d.MinTripDuration ?? string.Empty;
                form.MaxTripDuration = d.MaxTripDuration ?? string.Empty;
                form.CancellationPolicy = d.CancellationPolicy ?? string.Empty;
                form.PilotFirstName = d.PilotFirstName ?? string.Empty;
                form.PilotLastName = d.PilotLastName ?? string.Empty;
                form.PilotLicenceNumber = d.PilotLicenceNumber ?? string.Empty;
                form.PilotLicenceType = d.PilotLicenceType ?? string.Empty;
                form.PilotLicenceExpiry = d.PilotLicenceExpiry;
                form.CrewCount = d.CrewCount;

                if (form.CountryId != null) await LoadCities();
            }
            else errorMessage = "Failed to load listing data.";
        }
        catch (Exception ex) { errorMessage = ex.Message; }
    }

    private async Task SaveDraft() { isSaving = true; isSubmitting = false; await SubmitForm(false); isSaving = false; }
    private async Task SaveAndSubmit() { isSaving = true; isSubmitting = true; await SubmitForm(true); isSaving = false; }

    private async Task SubmitForm(bool submit)
    {
        errorMessage = successMessage = string.Empty;
        try
        {
            var endpoint = submit
                ? $"api/v1/jet-listing/{ListingId}/save-and-submit"
                : $"api/v1/jet-listing/{ListingId}/save";

            var response = await Http.PutAsJsonAsync(endpoint, form);
            var json = await response.Content.ReadAsStringAsync();
            var result = JsonSerializer.Deserialize<ApiResp<object>>(json,
                new JsonSerializerOptions { PropertyNameCaseInsensitive = true });

            if (result?.Success == true)
            {
                successMessage = submit ? "Submitted for review!" : "Saved as draft!";
                if (submit) { await Task.Delay(1500); Navigation.NavigateTo("/my-listings"); }
            }
            else errorMessage = result?.Message ?? "Failed to save.";
        }
        catch (Exception ex) { errorMessage = ex.Message; }
    }

    private static Guid? ParseGuid(string? value)
    {
        if (string.IsNullOrEmpty(value)) return null;
        return Guid.TryParse(value, out var g) ? g : null;
    }

    // ── MODELS ──
    class JetEditForm
    {
        public Guid? CountryId { get; set; }
        public string State { get; set; } = string.Empty;
        public Guid? CityId { get; set; }
        public string ZipCode { get; set; } = string.Empty;
        public string HangarLocation { get; set; } = string.Empty;
        public string HomeAirport { get; set; } = string.Empty;
        public string AircraftMake { get; set; } = string.Empty;
        public string AircraftModel { get; set; } = string.Empty;
        public string AircraftYear { get; set; } = string.Empty;
        public string TailNumber { get; set; } = string.Empty;
        public string AircraftCategory { get; set; } = string.Empty;
        public int PassengerCapacity { get; set; }
        public string RangeNauticalMiles { get; set; } = string.Empty;
        public string CruisingSpeed { get; set; } = string.Empty;
        public string EngineType { get; set; } = string.Empty;
        public string PrimaryGoal { get; set; } = string.Empty;
        public string UsageFrequency { get; set; } = string.Empty;
        public string ShareFrequency { get; set; } = string.Empty;
        public string AdvanceNotice { get; set; } = string.Empty;
        public string MinTripDuration { get; set; } = string.Empty;
        public string MaxTripDuration { get; set; } = string.Empty;
        public string CancellationPolicy { get; set; } = string.Empty;
        public string PilotFirstName { get; set; } = string.Empty;
        public string PilotLastName { get; set; } = string.Empty;
        public string PilotLicenceNumber { get; set; } = string.Empty;
        public string PilotLicenceType { get; set; } = string.Empty;
        public DateTime PilotLicenceExpiry { get; set; } = DateTime.Today;
        public int CrewCount { get; set; }
    }

    class ApiResp<T> { public bool Success { get; set; } public string Message { get; set; } = string.Empty; public T? Data { get; set; } }
    class CountryDto { public Guid Id { get; set; } public string Name { get; set; } = string.Empty; }
    class CityDto { public Guid Id { get; set; } public string Name { get; set; } = string.Empty; }

    class JetFullData
    {
        public Guid? CountryId { get; set; }
        public string? State { get; set; }
        public Guid? CityId { get; set; }
        public string? ZipCode { get; set; }
        public string? HangarLocation { get; set; }
        public string? HomeAirport { get; set; }
        public string? AircraftMake { get; set; }
        public string? AircraftModel { get; set; }
        public string? AircraftYear { get; set; }
        public string? TailNumber { get; set; }
        public string? AircraftCategory { get; set; }
        public int PassengerCapacity { get; set; }
        public string? RangeNauticalMiles { get; set; }
        public string? CruisingSpeed { get; set; }
        public string? EngineType { get; set; }
        public string? PrimaryGoal { get; set; }
        public string? UsageFrequency { get; set; }
        public string? ShareFrequency { get; set; }
        public string? AdvanceNotice { get; set; }
        public string? MinTripDuration { get; set; }
        public string? MaxTripDuration { get; set; }
        public string? CancellationPolicy { get; set; }
        public string? PilotFirstName { get; set; }
        public string? PilotLastName { get; set; }
        public string? PilotLicenceNumber { get; set; }
        public string? PilotLicenceType { get; set; }
        public DateTime PilotLicenceExpiry { get; set; }
        public int CrewCount { get; set; }
    }
}